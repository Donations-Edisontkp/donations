(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,r)=>{a.exports=e.r(76562)},51703,e=>{"use strict";var a=e.i(43476);function r({goalAmount:e,raisedAmount:r,currency:s="USD"}){let t=Math.min(r/e*100,100),n=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex justify-between items-end mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-3xl font-bold text-green-600",children:n(r)}),(0,a.jsx)("span",{className:"text-gray-500 ml-1",children:"raised"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"of "}),(0,a.jsx)("span",{className:"font-medium",children:n(e)})]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-full rounded-full transition-all duration-500 ease-out",style:{width:`${t}%`}})}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,a.jsxs)("span",{className:"font-medium text-green-600",children:[t.toFixed(0),"%"]})," ","of goal reached"]})]})}e.s(["default",()=>r])},77807,e=>{"use strict";var a=e.i(43476),r=e.i(71645);function s({campaignId:e,limit:s=10}){let[t,n]=(0,r.useState)([]),[l,o]=(0,r.useState)(!0),[i,d]=(0,r.useState)(null);return((0,r.useEffect)(()=>{!async function(){try{let a=await fetch(`/api/public/campaigns/${e}/top-donors?limit=${s}`);if(!a.ok)throw Error("Failed to fetch donors");let r=await a.json();n(r.donors)}catch(e){d(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}}()},[e,s]),l)?(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Top Donors"}),(0,a.jsx)("div",{className:"animate-pulse space-y-3",children:[void 0,void 0,void 0].map((e,r)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]},r))})]}):i?(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Top Donors"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Unable to load donors"})]}):0===t.length?(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Top Donors"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Be the first to donate!"})]}):(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-100",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Top Donors"}),(0,a.jsx)("ul",{className:"space-y-4",children:t.map((e,r)=>{let s,t;return(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center text-green-600 font-medium",children:e.name.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-green-600 font-medium",children:(s=e.amount,t=e.currency,new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(s))})]}),r<3&&(0,a.jsx)("span",{className:"text-lg",children:0===r?"ðŸ¥‡":1===r?"ðŸ¥ˆ":"ðŸ¥‰"})]},r)})})]})}e.s(["default",()=>s])},17123,e=>{"use strict";var a=e.i(43476),r=e.i(71645);function s({campaignId:e,campaignSlug:s,currency:t,defaultAmount:n=25}){let[l,o]=(0,r.useState)(!1),[i,d]=(0,r.useState)(null),[c,m]=(0,r.useState)({donorName:"",donorEmail:"",amount:n.toString(),paymentMethod:"stripe"}),u=async a=>{a.preventDefault(),o(!0),d(null);try{let a=await fetch("/api/donations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({campaignId:e,campaignSlug:s,donorName:c.donorName,donorEmail:c.donorEmail,amount:parseFloat(c.amount),paymentMethod:c.paymentMethod})}),r=await a.json();if(!a.ok)throw Error(r.error||"Failed to create donation");if(r.paymentUrl)window.location.href=r.paymentUrl;else throw Error("Payment URL not received")}catch(e){d(e instanceof Error?e.message:"An error occurred"),o(!1)}};return(0,a.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[i&&(0,a.jsx)("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg text-sm",children:i}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"donorName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name *"}),(0,a.jsx)("input",{type:"text",id:"donorName",value:c.donorName,onChange:e=>m({...c,donorName:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"John Doe",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"donorEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),(0,a.jsx)("input",{type:"email",id:"donorEmail",value:c.donorEmail,onChange:e=>m({...c,donorEmail:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"john@example.com",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Donation Amount (",t,") *"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:[10,25,50,100,250].map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>m({...c,amount:e.toString()}),className:`px-4 py-2 rounded-lg border transition-colors ${c.amount===e.toString()?"bg-green-600 text-white border-green-600":"bg-white text-gray-700 border-gray-300 hover:border-green-500"}`,children:[t," ",e]},e))}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:t}),(0,a.jsx)("input",{type:"number",id:"amount",value:c.amount,onChange:e=>m({...c,amount:e.target.value}),className:"w-full pl-16 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",min:"1",step:"0.01",placeholder:"Custom amount",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>m({...c,paymentMethod:"stripe"}),className:`p-4 rounded-lg border-2 transition-colors flex items-center justify-center gap-2 ${"stripe"===c.paymentMethod?"border-green-600 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[(0,a.jsx)("span",{className:"text-2xl",children:"ðŸ’³"}),(0,a.jsx)("span",{className:"font-medium",children:"Card (Stripe)"})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>m({...c,paymentMethod:"paypal"}),className:`p-4 rounded-lg border-2 transition-colors flex items-center justify-center gap-2 ${"paypal"===c.paymentMethod?"border-green-600 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[(0,a.jsx)("span",{className:"text-2xl",children:"ðŸ…¿ï¸"}),(0,a.jsx)("span",{className:"font-medium",children:"PayPal"})]})]})]}),(0,a.jsx)("button",{type:"submit",disabled:l,className:"w-full py-4 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Processing...":`Donate ${t} ${c.amount}`}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Your donation is secure and encrypted. You will be redirected to complete payment."})]})}e.s(["default",()=>s])},60813,e=>{"use strict";var a=e.i(43476),r=e.i(71645),s=e.i(18566),t=e.i(17123),n=e.i(51703),l=e.i(77807);function o(){let e=(0,s.useParams)(),o=(0,s.useSearchParams)(),i=e.campaignSlug,d=o.get("canceled"),[c,m]=(0,r.useState)(null),[u,x]=(0,r.useState)(!0),[g,h]=(0,r.useState)(null);return((0,r.useEffect)(()=>{async function e(){try{let e=await fetch(`/api/public/campaigns/${i}`);if(!e.ok)return void h("Campaign not found");let a=await e.json();m(a.campaign)}catch{h("Failed to load campaign")}finally{x(!1)}}i&&e()},[i]),u)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-gray-500",children:"Loading..."})}):g||!c?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Campaign Not Found"}),(0,a.jsx)("p",{className:"text-gray-500 mt-2",children:"The campaign you're looking for doesn't exist."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsxs)("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[d&&(0,a.jsx)("div",{className:"mb-6 bg-yellow-50 text-yellow-800 p-4 rounded-lg",children:"Payment was canceled. You can try again when you're ready."}),(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:c.title}),(0,a.jsx)("p",{className:"mt-2 text-gray-600 max-w-2xl mx-auto",children:c.description})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,a.jsx)(n.default,{goalAmount:c.goalAmount,raisedAmount:c.raisedAmount||0,currency:c.currency}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Make a Donation"}),(0,a.jsx)(t.default,{campaignId:c.id,campaignSlug:c.slug,currency:c.currency})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)(l.default,{campaignId:c.id,limit:5})})]})]}),(0,a.jsx)("footer",{className:"text-center py-8 text-sm text-gray-500",children:"Powered by ðŸŒ± Smart Donations"})]})}e.s(["default",()=>o])}]);