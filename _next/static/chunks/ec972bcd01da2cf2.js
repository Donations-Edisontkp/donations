(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75561,e=>{"use strict";var a=e.i(43476),l=e.i(71645),r=e.i(18566);function t({settings:e}){let t=(0,r.useRouter)(),[s,i]=(0,l.useState)(!1),[n,d]=(0,l.useState)(null),[o,c]=(0,l.useState)(!1),[m,p]=(0,l.useState)({currency:e.currency||"USD",paypalClientId:e.paypalClientId||"",paypalClientSecret:e.paypalClientSecret||"",paypalMode:e.paypalMode||"sandbox",stripePublishableKey:e.stripePublishableKey||"",stripeSecretKey:e.stripeSecretKey||"",adminEmail:e.adminEmail||"",donorEmailTemplate:e.donorEmailTemplate||"",adminEmailTemplate:e.adminEmailTemplate||""}),u=async e=>{e.preventDefault(),i(!0),d(null),c(!1);try{let e=await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!e.ok){let a=await e.json();throw Error(a.error||"Failed to save settings")}c(!0),t.refresh()}catch(e){d(e instanceof Error?e.message:"An error occurred")}finally{i(!1)}};return(0,a.jsxs)("form",{onSubmit:u,className:"space-y-8 max-w-3xl",children:[n&&(0,a.jsx)("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg",children:n}),o&&(0,a.jsx)("div",{className:"bg-green-50 text-green-600 p-4 rounded-lg",children:"Settings saved successfully!"}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"General Settings"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Currency"}),(0,a.jsxs)("select",{id:"currency",value:m.currency,onChange:e=>p({...m,currency:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"USD",children:"USD"}),(0,a.jsx)("option",{value:"EUR",children:"EUR"}),(0,a.jsx)("option",{value:"GBP",children:"GBP"}),(0,a.jsx)("option",{value:"CAD",children:"CAD"}),(0,a.jsx)("option",{value:"AUD",children:"AUD"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"adminEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Email"}),(0,a.jsx)("input",{type:"email",id:"adminEmail",value:m.adminEmail,onChange:e=>p({...m,adminEmail:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"admin@example.com"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Stripe Configuration"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"stripePublishableKey",className:"block text-sm font-medium text-gray-700 mb-1",children:"Publishable Key"}),(0,a.jsx)("input",{type:"text",id:"stripePublishableKey",value:m.stripePublishableKey,onChange:e=>p({...m,stripePublishableKey:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"pk_test_..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"stripeSecretKey",className:"block text-sm font-medium text-gray-700 mb-1",children:"Secret Key"}),(0,a.jsx)("input",{type:"password",id:"stripeSecretKey",value:m.stripeSecretKey,onChange:e=>p({...m,stripeSecretKey:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"sk_test_..."}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Leave empty to keep existing value"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"PayPal Configuration"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"paypalMode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode"}),(0,a.jsxs)("select",{id:"paypalMode",value:m.paypalMode,onChange:e=>p({...m,paypalMode:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"sandbox",children:"Sandbox (Testing)"}),(0,a.jsx)("option",{value:"live",children:"Live (Production)"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"paypalClientId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Client ID"}),(0,a.jsx)("input",{type:"text",id:"paypalClientId",value:m.paypalClientId,onChange:e=>p({...m,paypalClientId:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"PayPal Client ID"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"paypalClientSecret",className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Secret"}),(0,a.jsx)("input",{type:"password",id:"paypalClientSecret",value:m.paypalClientSecret,onChange:e=>p({...m,paypalClientSecret:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"PayPal Client Secret"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Leave empty to keep existing value"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email Templates"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["Available variables: ","{donorName}",", ","{amount}",", ","{currency}",", ","{campaignTitle}",", ","{siteName}"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"donorEmailTemplate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Donor Thank You Email"}),(0,a.jsx)("textarea",{id:"donorEmailTemplate",value:m.donorEmailTemplate,onChange:e=>p({...m,donorEmailTemplate:e.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent font-mono text-sm",placeholder:"Leave empty for default template"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"adminEmailTemplate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Notification Email"}),(0,a.jsx)("textarea",{id:"adminEmailTemplate",value:m.adminEmailTemplate,onChange:e=>p({...m,adminEmailTemplate:e.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent font-mono text-sm",placeholder:"Leave empty for default template"})]})]})]}),(0,a.jsx)("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Saving...":"Save Settings"})]})}e.s(["default",()=>t])}]);